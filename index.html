<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Legacy Real Estate - Garrett Schaede | Grand Lake Luxury Properties</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0d285e; /* Dark Blue */
            --secondary-color: #a87d3e; /* Gold/Bronze */
            --accent-color: #e0b66e; /* Lighter Gold */
            --text-dark: #2c3e50;
            --text-light: #ecf0f1;
            --background-light: #fdfaf6;
            --background-dark: #1a2c4a;
            --gradient-blue: linear-gradient(135deg, #0d285e 0%, #1a3a6b 100%);
            --gradient-gold: linear-gradient(135deg, #a87d3e 0%, #e0b66e 100%);
            --shadow-light: 0 5px 15px rgba(0,0,0,0.08);
            --shadow-medium: 0 10px 30px rgba(0,0,0,0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            line-height: 1.7;
            color: var(--text-dark);
            background: var(--background-light);
            overflow-x: hidden;
        }
        
        .header {
            background: var(--gradient-blue);
            color: var(--text-light);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-medium);
            transition: all 0.3s ease;
        }

        .header.scrolled {
            padding: 0.75rem 0;
            background: rgba(13, 40, 94, 0.95); /* Slightly transparent on scroll */
        }
        
        .nav-container {
            max-width: 1300px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2.5rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: var(--text-light);
        }
        
        .logo:hover {
            transform: translateY(-2px);
            color: var(--accent-color);
        }
        
        .logo-image-file {
            width: 70px; /* Slightly smaller for premium feel */
            height: 70px;
            object-fit: contain;
            border-radius: 50%; /* Circular logo */
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            background-color: white;
            padding: 5px; /* Padding for the circular logo */
            border: 2px solid var(--accent-color);
        }
        
        .logo-text {
            display: flex;
            flex-direction: column;
        }
        
        .logo-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.9rem;
            font-weight: 700;
            letter-spacing: 1.5px;
            margin: 0;
            line-height: 1;
        }
        
        .logo-subtitle {
            font-size: 0.8rem;
            opacity: 0.9;
            letter-spacing: 1px;
            text-transform: uppercase;
        }
        
        .logo-tagline {
            font-size: 0.65rem;
            opacity: 0.7;
            margin-top: 0.2rem;
            font-style: italic;
        }
        
        .nav-links {
            display: flex;
            gap: 2.5rem;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        
        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 0.6rem 0;
            position: relative;
            font-size: 1.05rem;
            letter-spacing: 0.5px;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            background-color: var(--accent-color);
            transition: width 0.3s ease, left 0.3s ease;
        }
        
        .nav-links a:hover::after {
            width: 100%;
            left: 0;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.8rem;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1100;
            position: relative;
        }

        .mobile-menu-btn .fa-bars, .mobile-menu-btn .fa-times {
            transition: transform 0.3s ease;
        }
        
        /* Mobile Navigation Overlay */
        .mobile-nav-overlay {
            display: none; /* Hidden by default */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(13, 40, 94, 0.98);
            z-index: 999;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
        }

        .mobile-nav-overlay.active {
            display: flex;
            opacity: 1;
            visibility: visible;
        }

        .mobile-nav-overlay .nav-links {
            flex-direction: column;
            gap: 1.5rem;
            text-align: center;
        }

        .mobile-nav-overlay .nav-links a {
            font-size: 1.8rem;
            padding: 1rem 0;
            color: var(--text-light);
        }

        .mobile-nav-overlay .nav-links a:hover {
            color: var(--accent-color);
        }

        .hero {
            height: 100vh;
            /* To easily insert your own photo, replace 'water photo.jpg' below with the path to your image */
            /* Example: url('images/my-grand-lake-hero.jpg') or a full URL */
            background: linear-gradient(rgba(13, 40, 94, 0.5), rgba(26, 58, 107, 0.5)), url('water photo.jpg') center center/cover no-repeat;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--text-light);
            position: relative;
            padding-top: 100px; /* Adjust for fixed header */
        }
        
        .hero-content {
            max-width: 900px;
            padding: 2rem;
            animation: fadeInUp 1.2s ease-out;
            background: rgba(0,0,0,0.3); /* Slight overlay for readability */
            border-radius: 10px;
            box-shadow: var(--shadow-medium);
        }
        
        .hero h2 {
            font-family: 'Playfair Display', serif;
            font-size: 4.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 4px 6px rgba(0,0,0,0.4);
            line-height: 1.1;
            font-weight: 700;
        }
        
        .hero p {
            font-size: 1.5rem;
            margin-bottom: 2.5rem;
            opacity: 0.95;
            font-weight: 300;
        }
        
        .cta-button {
            display: inline-block;
            background: var(--gradient-gold);
            color: var(--primary-color);
            padding: 1.2rem 3rem;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.2rem;
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(168, 125, 62, 0.4);
            text-transform: uppercase;
            letter-spacing: 1px;
            border: none;
            cursor: pointer;
        }
        
        .cta-button:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 12px 35px rgba(168, 125, 62, 0.6);
            filter: brightness(1.1);
        }
        
        .section {
            padding: 6rem 0;
            position: relative;
        }
        
        .container {
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 2.5rem;
        }
        
        .section-title {
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 3.5rem;
            margin-bottom: 4rem;
            color: var(--primary-color);
            position: relative;
            font-weight: 700;
            text-transform: capitalize;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 90px;
            height: 4px;
            background: var(--gradient-gold);
            border-radius: 2px;
        }
        
        .about {
            background: var(--background-light);
        }
        
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 5rem;
            align-items: center;
        }
        
        .about-text {
            font-size: 1.15rem;
            line-height: 1.8;
            color: var(--text-dark);
        }
        
        .about-text h3 {
            font-family: 'Playfair Display', serif;
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            font-weight: 700;
            line-height: 1.3;
        }
        
        .about-image {
            text-align: center;
            position: relative;
            padding: 20px; /* Space for border effect */
            background: var(--gradient-gold);
            border-radius: 10px;
            box-shadow: var(--shadow-medium);
        }
        
        .agent-photo {
            width: 100%; /* Make it responsive */
            max-width: 400px; /* Limit max size */
            height: 400px; /* Fixed height for consistency */
            object-fit: cover;
            object-position: center;
            border-radius: 8px; /* Slightly rounded corners */
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            border: 5px solid var(--background-light); /* Frame effect */
            transition: all 0.4s ease;
            display: block;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }
        
        .agent-photo:hover {
            transform: scale(1.03);
            box-shadow: 0 15px 45px rgba(0,0,0,0.3);
        }
        
        .featured-properties {
            background: var(--background-light);
            padding-bottom: 2rem;
        }
        
        .loading-properties, .error-state {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--primary-color);
            background: #e9f0f7;
            border-radius: 15px;
            margin: 2rem auto;
            max-width: 800px;
            box-shadow: var(--shadow-light);
        }
        
        .loading-properties i, .error-state i {
            font-size: 3.5rem;
            color: var(--secondary-color);
            margin-bottom: 1.5rem;
            animation: spin 1.5s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .error-state {
            color: #dc2626;
            background: #fef2f2;
            border: 1px solid #dc2626;
        }

        .error-state .search-button {
            margin-top: 1.5rem;
            background: var(--gradient-blue);
            color: var(--text-light);
            padding: 0.8rem 1.8rem;
            font-size: 1rem;
            box-shadow: var(--shadow-light);
        }
        
        .idx-search-container {
            background: white;
            border-radius: 15px;
            padding: 2.5rem;
            margin-bottom: 4rem;
            box-shadow: var(--shadow-medium);
            border: 1px solid #e0e0e0;
        }
        
        .search-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }
        
        .search-field {
            display: flex;
            flex-direction: column;
        }
        
        .search-field label {
            font-weight: 600;
            margin-bottom: 0.6rem;
            color: var(--primary-color);
            font-size: 0.95rem;
        }
        
        .search-field input,
        .search-field select {
            padding: 0.9rem 1.2rem;
            border: 1px solid #dcdcdc;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background-color: #fcfcfc;
            color: var(--text-dark);
            -webkit-appearance: none; /* Remove default arrow for select */
            -moz-appearance: none;
            appearance: none;
            background-image: url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000%22%20d%3D%22M287%2069.9a15.7%2015.7%200%200%200-22.3%200L146.2%20188.4%2027.6%2069.9a15.7%2015.7%200%200%200-22.3%2022.3l129.2%20129.2a15.7%2015.7%200%200%200%2022.3%200L287%2092.2a15.7%2015.7%200%200%200%200-22.3z%22%2F%3E%3C%2Fsvg%3E');
            background-repeat: no-repeat;
            background-position: right 1rem top 50%;
            background-size: 0.65em auto;
        }
        
        .search-field input:focus,
        .search-field select:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 4px rgba(168, 125, 62, 0.2);
            background-color: #ffffff;
        }
        
        .search-button {
            background: var(--gradient-blue);
            color: var(--text-light);
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            box-shadow: var(--shadow-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .search-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(13, 40, 94, 0.3);
            filter: brightness(1.1);
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
            margin-top: 2rem;
        }
        
        .property-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-light);
            transition: all 0.4s ease;
            position: relative;
            border: 1px solid #f0f0f0;
            display: flex;
            flex-direction: column;
        }
        
        .property-card:hover {
            transform: translateY(-12px) scale(1.01);
            box-shadow: var(--shadow-medium);
        }
        
        .property-image {
            height: 280px;
            background: var(--gradient-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-size: 4rem;
            position: relative;
            overflow: hidden;
        }
        
        .property-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .property-card:hover .property-image img {
            transform: scale(1.05);
        }
        
        .property-badge {
            position: absolute;
            top: 18px;
            right: 18px;
            background: var(--accent-color);
            color: var(--primary-color);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 10;
        }
        
        .property-details {
            padding: 1.8rem;
            flex-grow: 1; /* Allows details to take up remaining height */
            display: flex;
            flex-direction: column;
        }
        
        .property-price {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.8rem;
            letter-spacing: -0.5px;
        }
        
        .property-address {
            color: #555;
            margin-bottom: 1.2rem;
            font-size: 1.05rem;
            font-weight: 400;
        }
        
        .property-features {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            border-top: 1px solid #eee;
            padding-top: 1.5rem;
        }
        
        .feature {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #666;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .feature i {
            color: var(--secondary-color);
            font-size: 1.1rem;
        }
        
        .property-description {
            color: #444;
            line-height: 1.7;
            font-size: 0.95rem;
            margin-top: auto; /* Pushes description to the bottom */
        }
        
        .services {
            background: var(--background-dark);
            color: var(--text-light);
        }

        .services .section-title {
            color: var(--text-light);
        }

        .services .section-title::after {
            background: var(--gradient-gold);
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-top: 2rem;
        }
        
        .service-card {
            text-align: center;
            padding: 2.5rem;
            border-radius: 15px;
            background: var(--primary-color);
            transition: all 0.4s ease;
            border: 2px solid rgba(255,255,255,0.1);
            box-shadow: var(--shadow-medium);
            color: var(--text-light);
        }
        
        .service-card:hover {
            background: rgba(168, 125, 62, 0.2); /* Subtle gold tint on hover */
            border-color: var(--accent-color);
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        
        .service-icon {
            font-size: 4rem;
            color: var(--accent-color);
            margin-bottom: 1.5rem;
            transition: transform 0.3s ease;
        }

        .service-card:hover .service-icon {
            transform: scale(1.1) rotate(5deg);
        }
        
        .service-card h3 {
            font-family: 'Playfair Display', serif;
            color: var(--accent-color);
            margin-bottom: 1rem;
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .service-card p {
            font-size: 1rem;
            opacity: 0.9;
        }
        
        .contact {
            background: var(--gradient-blue);
            color: var(--text-light);
        }
        
        .contact-content {
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .contact-info h3 {
            font-family: 'Playfair Display', serif;
            font-size: 3rem;
            margin-bottom: 2rem;
            font-weight: 700;
            line-height: 1.2;
        }
        
        .contact-info p {
            font-size: 1.2rem;
            margin-bottom: 2.5rem;
            line-height: 1.8;
            opacity: 0.9;
        }
        
        .contact-items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .contact-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.8rem;
            font-size: 1.15rem;
            background: rgba(255,255,255,0.1);
            padding: 1.5rem;
            border-radius: 10px;
            transition: all 0.3s ease;
            color: var(--text-light);
            text-decoration: none;
        }

        .contact-item:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .contact-item i {
            font-size: 2.5rem;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }

        .contact-item span {
            font-weight: 500;
        }
        
        .footer {
            background: var(--background-dark);
            color: var(--text-light);
            text-align: center;
            padding: 2.5rem 0;
            font-size: 0.9rem;
            opacity: 0.9;
            border-top: 5px solid var(--primary-color); /* Stronger separator */
        }

        .footer p {
            margin-bottom: 0.5rem;
        }
        
        .footer a {
            color: var(--accent-color);
            text-decoration: none;
            transition: all 0.3s ease;
        }
        
        .footer a:hover {
            color: white;
            text-decoration: underline;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @media (max-width: 1024px) {
            .nav-container {
                padding: 0 2rem;
            }
            .nav-links {
                gap: 1.5rem;
            }
            .hero h2 {
                font-size: 3.8rem;
            }
            .hero p {
                font-size: 1.3rem;
            }
            .section-title {
                font-size: 3rem;
            }
            .about-content {
                grid-template-columns: 1fr;
                gap: 3rem;
                text-align: center;
            }
            .agent-photo {
                max-width: 350px;
                height: 350px;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .hero {
                padding-top: 80px;
            }
            .hero h2 {
                font-size: 3rem;
            }
            .hero p {
                font-size: 1.1rem;
            }
            .cta-button {
                padding: 0.9rem 2rem;
                font-size: 1rem;
            }
            .section {
                padding: 4rem 0;
            }
            .section-title {
                font-size: 2.8rem;
                margin-bottom: 3rem;
            }
            .about-text h3 {
                font-size: 2rem;
            }
            .agent-photo {
                width: 280px;
                height: 280px;
            }
            .idx-search-container {
                padding: 1.8rem;
            }
            .search-form {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            .properties-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            .property-image {
                height: 220px;
            }
            .property-price {
                font-size: 1.9rem;
            }
            .property-address {
                font-size: 0.95rem;
            }
            .property-features {
                gap: 1rem;
            }
            .service-card {
                padding: 1.5rem;
            }
            .service-icon {
                font-size: 3rem;
            }
            .service-card h3 {
                font-size: 1.5rem;
            }
            .contact-info h3 {
                font-size: 2.5rem;
            }
            .contact-info p {
                font-size: 1rem;
            }
            .contact-items-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            .contact-item {
                font-size: 1rem;
                padding: 1.2rem;
            }
            .contact-item i {
                font-size: 2rem;
            }
        }

        @media (max-width: 480px) {
            .nav-container {
                padding: 0 1rem;
            }
            .logo-image-file {
                width: 60px;
                height: 60px;
            }
            .logo-title {
                font-size: 1.6rem;
            }
            .logo-subtitle, .logo-tagline {
                font-size: 0.7rem;
            }
            .hero h2 {
                font-size: 2.5rem;
            }
            .hero p {
                font-size: 1rem;
            }
            .cta-button {
                padding: 0.8rem 1.5rem;
                font-size: 0.9rem;
            }
            .section-title {
                font-size: 2.2rem;
            }
            .about-text {
                font-size: 1rem;
            }
            .agent-photo {
                width: 220px;
                height: 220px;
            }
            .property-details {
                padding: 1rem;
            }
            .property-price {
                font-size: 1.6rem;
            }
            .property-features {
                flex-direction: column;
                align-items: flex-start;
            }
            .service-card {
                padding: 1.5rem;
            }
            .contact-info h3 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header class="header" id="mainHeader">
        <div class="nav-container">
            <a href="#home" class="logo" onclick="scrollToHome(event)">
                <img src="legacy%20logo.png" alt="Legacy Real Estate Logo" class="logo-image-file">
                <div class="logo-text">
                    <div class="logo-title">Grand Lake</div>
                    <div class="logo-subtitle">Real Estate</div>
                    <div class="logo-tagline">INTEGRITY | INNOVATION | EXCELLENCE</div>
                </div>
            </a>
            <nav>
                <ul class="nav-links">
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#properties">Properties</a></li>
                    <li><a href="#services">Services</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
                <button class="mobile-menu-btn" onclick="toggleMobileNav()">
                    <i class="fas fa-bars" id="hamburgerIcon"></i>
                </button>
            </nav>
        </div>
    </header>

    <div class="mobile-nav-overlay" id="mobileNav">
        <button class="mobile-menu-btn" onclick="toggleMobileNav()" style="position: absolute; top: 1.5rem; right: 2rem;">
            <i class="fas fa-times"></i>
        </button>
        <ul class="nav-links">
            <li><a href="#home" onclick="toggleMobileNav()">Home</a></li>
            <li><a href="#about" onclick="toggleMobileNav()">About</a></li>
            <li><a href="#properties" onclick="toggleMobileNav()">Properties</a></li>
            <li><a href="#services" onclick="toggleMobileNav()">Services</a></li>
            <li><a href="#contact" onclick="toggleMobileNav()">Contact</a></li>
        </ul>
    </div>

    <section id="home" class="hero">
        <div class="hero-content">
            <h2>Your Home on Grand Lake, Oklahoma</h2>
            <p>Discover beautiful lakefront properties and homes on Grand Lake o' the Cherokees in Grove, Oklahoma, and surrounding areas. Garrett Schaede is your local real estate expert.</p>
            <a href="#properties" class="cta-button">View Current Listings</a>
        </div>
    </section>

    <section id="about" class="about section">
        <div class="container">
            <h2 class="section-title">Meet Garrett Schaede</h2>
            <div class="about-content">
                <div class="about-image">
                    <img class="agent-photo" src="garrett.pdf" alt="Garrett Schaede - Grand Lake Real Estate Agent">
                </div>
                <div class="about-text">
                    <h3>Your Grand Lake Real Estate Expert</h3>
                    <p>With over ten years of experience, Garrett Schaede is a leading real estate agent for properties on Grand Lake o' the Cherokees. His strong knowledge of the local market, including Grove, Oklahoma, combined with a commitment to excellent service, ensures a smooth and successful experience for every client.</p>
                    
                    <p>Garrett specializes in lakefront homes, luxury properties, and investment opportunities across the Grand Lake area of Oklahoma. He helps clients find their perfect property, from cozy lakeside cabins to large waterfront estates.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="properties" class="featured-properties section">
        <div class="container">
            <h2 class="section-title">Current MLS Listings</h2>
            
            <div class="idx-search-container">
                <div class="search-form">
                    <div class="search-field">
                        <label for="minPrice">Min Price</label>
                        <select id="minPrice">
                            <option value="">Any</option>
                            <option value="100000">$100,000</option>
                            <option value="200000">$200,000</option>
                            <option value="300000">$300,000</option>
                            <option value="500000">$500,000</option>
                            <option value="750000">$750,000</option>
                            <option value="1000000">$1,000,000</option>
                            <option value="1500000">$1,500,000</option>
                            <option value="2000000">$2,000,000</option>
                        </select>
                    </div>
                    
                    <div class="search-field">
                        <label for="maxPrice">Max Price</label>
                        <select id="maxPrice">
                            <option value="">Any</option>
                            <option value="300000">$300,000</option>
                            <option value="500000">$500,000</option>
                            <option value="750000">$750,000</option>
                            <option value="1000000">$1,000,000</option>
                            <option value="1500000">$1,500,000</option>
                            <option value="2000000">$2,000,000</option>
                            <option value="3000000">$3,000,000</option>
                            <option value="5000000">$5,000,000+</option>
                        </select>
                    </div>
                    
                    <div class="search-field">
                        <label for="bedrooms">Bedrooms</label>
                        <select id="bedrooms">
                            <option value="">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                            <option value="4">4+</option>
                            <option value="5">5+</option>
                        </select>
                    </div>
                    
                    <div class="search-field">
                        <label for="bathrooms">Bathrooms</label>
                        <select id="bathrooms">
                            <option value="">Any</option>
                            <option value="1">1+</option>
                            <option value="2">2+</option>
                            <option value="3">3+</option>
                            <option value="4">4+</option>
                        </select>
                    </div>
                    
                    <div class="search-field">
                        <label for="propertyType">Property Type</label>
                        <select id="propertyType">
                            <option value="">Any</option>
                            <option value="Residential">Residential</option>
                            <option value="Condo">Condo</option>
                            <option value="Land">Land</option>
                            <option value="Commercial">Commercial</option>
                        </select>
                    </div>
                    
                    <div class="search-field">
                        <label for="city">City</label>
                        <input type="text" id="city" placeholder="e.g., Grove, Afton, Jay">
                    </div>
                </div>
                
                <div style="text-align: center;">
                    <button class="search-button" onclick="searchProperties()">
                        <i class="fas fa-search"></i> Search Properties
                    </button>
                </div>
            </div>
            
            <div class="properties-grid" id="properties-grid">
                <div class="loading-properties">
                    <i class="fas fa-spinner"></i>
                    <h3>Loading MLS Properties...</h3>
                    <p>Connecting to Northeast Oklahoma MLS database for real-time listings...</p>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="services section">
        <div class="container">
            <h2 class="section-title">Our Real Estate Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-magnifying-glass-location"></i>
                    </div>
                    <h3>Find Your Property</h3>
                    <p>We help you find the perfect lakefront property or off-market listing on Grand Lake, tailored to your needs.</p>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <h3>Buyer Support</h3>
                    <p>Our expert team provides market analysis and strong negotiation to help you get the best deal on your new home.</p>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3>Property Marketing</h3>
                    <p>We use professional photography, virtual tours, and targeted advertising to showcase your property to the right buyers.</p>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-chart-area"></i>
                    </div>
                    <h3>Market Insights</h3>
                    <p>Get detailed market research and property values to make smart decisions when buying, selling, or investing in Grand Lake real estate.</p>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-gem"></i>
                    </div>
                    <h3>Personalized Service</h3>
                    <p>We provide full support from your first call to closing and beyond. Your satisfaction is our top priority.</p>
                </div>

                <div class="service-card">
                    <div class="service-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <h3>Investment Advice</h3>
                    <p>Receive strategic advice on real estate investments and rental property management to help you maximize your returns in Grand Lake, Oklahoma.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="contact section">
        <div class="container">
            <h2 class="section-title" style="color: var(--text-light);">Get In Touch</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Ready to Find Your Dream Home on Grand Lake, Oklahoma?</h3>
                    <p>Contact Garrett Schaede today to start your journey to owning a lakefront home on Grand Lake o' the Cherokees. Whether you're buying or selling in Grove, Oklahoma, or surrounding areas, you deserve excellent service.</p>
                    
                    <div class="contact-items-grid">
                        <a href="tel:+19184079128" class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>(918) 407-9128</span>
                        </a>
                        
                        <a href="mailto:garrett@legacyrealtors.net" class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>garrett@legacyrealtors.net</span>
                        </a>
                        
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Grand Lake o' the Cherokees, OK</span>
                        </div>
                        
                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <span>Available 7 days a week by appointment</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Legacy Real Estate. All rights reserved. | Garrett Schaede, Grand Lake Real Estate Specialist</p>
            <p>Serving Grand Lake o' the Cherokees and Grove, Oklahoma | Integrity | Innovation | Excellence</p>
            <p style="margin-top: 1rem; font-size: 0.8rem; opacity: 0.7;">
                Site Design by <a href="https://redeemeddigital.com" target="_blank">Redeemed Digital</a>
            </p>
        </div>
    </footer>

    <script>
        // Utility function to escape HTML to prevent code injection and display issues
        function escapeHTML(str) {
            if (typeof str !== 'string') return ''; // Handle non-string inputs
            var div = document.createElement('div');
            div.appendChild(document.createTextNode(str));
            return div.innerHTML;
        }

        // IDX Configuration for Northeast Oklahoma Board of Realtors
        const IDX_CONFIG = {
            apiKey: 'awgq6dp2w63ixkbw4kjt377u8',
            accessToken: '7w14e1fzp5g5al7v9ky0dgx89',
            feedId: 'awgq6dp2w63ixkbw4kjt377u8',
        };

        // Auto-load properties when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded, IDX Config:', IDX_CONFIG);
            loadProperties();

            // Header shrink on scroll
            const header = document.getElementById('mainHeader');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else {
                    header.classList.remove('scrolled');
                }
            });
        });

        // Mobile navigation functions
        function toggleMobileNav() {
            const mobileNav = document.getElementById('mobileNav');
            const hamburgerIcon = document.getElementById('hamburgerIcon');
            
            if (mobileNav.classList.contains('active')) {
                mobileNav.classList.remove('active');
                hamburgerIcon.classList.remove('fa-times');
                hamburgerIcon.classList.add('fa-bars');
            } else {
                mobileNav.classList.add('active');
                hamburgerIcon.classList.remove('fa-bars');
                hamburgerIcon.classList.add('fa-times');
            }
        }

        function scrollToHome(event) {
            event.preventDefault();
            document.getElementById('home').scrollIntoView({ behavior: 'smooth' });
        }

        // Search properties with filters
        function searchProperties() {
            const filters = {
                minPrice: document.getElementById('minPrice').value,
                maxPrice: document.getElementById('maxPrice').value,
                bedrooms: document.getElementById('bedrooms').value,
                bathrooms: document.getElementById('bathrooms').value,
                propertyType: document.getElementById('propertyType').value,
                city: document.getElementById('city').value
            };
            
            loadProperties(filters);
        }

        // Load properties from IDX feed
        async function loadProperties(filters = {}) {
            const grid = document.getElementById('properties-grid');
            
            // Show loading state
            grid.innerHTML = `
                <div class="loading-properties">
                    <i class="fas fa-spinner"></i>
                    <h3>Searching MLS Properties...</h3>
                    <p>Connecting to Northeast Oklahoma MLS database...</p>
                </div>
            `;
            
            // Build query parameters for Netlify Function proxy
            const params = new URLSearchParams();
            params.append('limit', '12'); // Fetch up to 12 listings
            params.append('status', 'active'); // Ensure only active listings

            // Add filters
            if (filters.minPrice) params.append('minprice', filters.minPrice);
            if (filters.maxPrice) params.append('maxprice', filters.maxPrice);
            if (filters.bedrooms) params.append('beds', filters.bedrooms);
            if (filters.bathrooms) params.append('baths', filters.bathrooms);
            if (filters.propertyType) params.append('propertytype', filters.propertyType);
            if (filters.city) params.append('city', filters.city); // Pass city filter

            let propertiesToDisplay = null;
            
            try {
                console.log('Attempting Netlify Function proxy...');
                const response = await fetch(`${window.location.origin}/.netlify/functions/idx-proxy?${params.toString()}`, {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const result = await response.json();
                    // NEW LOGIC: Correctly parse the Spark API data structure
                    if (result && result.D && result.D.Results && Array.isArray(result.D.Results)) {
                        propertiesToDisplay = result.D.Results; // Extract the actual listings array
                        console.log('Netlify Function proxy success:', propertiesToDisplay);
                    } else {
                        console.log('API response was not in the expected format or was an error:', result);
                    }
                } else {
                    console.log('Server proxy response not OK:', response.status);
                }
            } catch (proxyError) {
                console.error('Netlify Function proxy failed (network error or unhandled):', proxyError.message);
            }
            
            // Decide whether to display real properties or fallback to demo mode
            if (propertiesToDisplay && propertiesToDisplay.length > 0) {
                await displayProperties(propertiesToDisplay);
            } else {
                showDemoPropertiesWithExplanation(filters);
            }
        }

        // Show demo properties with explanation
        function showDemoPropertiesWithExplanation(filters = {}) {
            console.log('Showing demo properties due to API limitations or proxy not found.');
            
            const grid = document.getElementById('properties-grid');
            
            // Add explanation banner
            const explanation = `
                <div class="error-state" style="grid-column: 1 / -1; background: var(--gradient-blue); color: var(--text-light); border: none; padding: 2.5rem; border-radius: 15px;">
                    <i class="fas fa-info-circle" style="color: var(--accent-color);"></i>
                    <h3 style="font-family: 'Playfair Display', serif; margin-bottom: 1rem; font-size: 1.8rem;">Demo Mode - Live MLS Integration Ready</h3>
                    <p style="text-align: left; margin: 1.5rem 0; font-size: 1.05rem; line-height: 1.6;">
                        • Direct browser-to-MLS API calls are typically blocked by browser security policies (CORS).<br>
                        • This is a standard security measure for real estate websites.
                    </p>
                    <p style="font-size: 1.1rem; font-weight: 500;"><strong>To display live MLS data:</strong> Please ensure your Netlify Function (<code>netlify/functions/idx-proxy.js</code>) and <code>netlify.toml</code> file are correctly configured and deployed.</p>
                    <small style="opacity: 0.8; margin-top: 1rem; display: block;">(Search functionality works even with demo data)</small>
                </div>
            `;
            
            // Show demo properties
            showDemoProperties(filters, explanation);
        }

        // Display properties from API response
        async function displayProperties(properties) { // Renamed 'data' to 'properties' for clarity
            const grid = document.getElementById('properties-grid');
            
            try {
                // 'properties' should already be the array of listings from loadProperties
                if (!properties || !Array.isArray(properties) || properties.length === 0) {
                    grid.innerHTML = `
                        <div class="error-state">
                            <i class="fas fa-search"></i>
                            <h3>No Properties Found</h3>
                            <p>No properties match your current search criteria. Try adjusting your filters.</p>
                            <button class="search-button" onclick="clearAndSearch()">Clear Filters</button>
                        </div>
                    `;
                    return;
                }
                
                let propertyCards = '';
                
                // Limit to 12 properties for a cleaner display
                properties.slice(0, 12).forEach(property => {
                    // Adapt to common naming conventions from Spark API's StandardFields
                    // Add defensive checks for nested properties before accessing them.
                    const price = property.StandardFields?.ListPrice || null;
                    const addressParts = [
                        property.StandardFields?.StreetNumber,
                        property.StandardFields?.StreetName,
                        property.StandardFields?.City,
                        property.StandardFields?.StateOrProvince,
                        property.StandardFields?.PostalCode
                    ].filter(Boolean).join(' '); // Filter out null/undefined parts
                    const address = addressParts.trim() || 'Address not available';

                    const beds = property.StandardFields?.BedsTotal || 'N/A';
                    const baths = property.StandardFields?.BathsTotal || 'N/A';
                    const sqft = property.StandardFields?.BuildingAreaTotal || null;
                    const image = property.Media?.[0]?.MediaURL || 'https://placehold.co/600x400'; // Default placeholder
                    const description = property.StandardFields?.PublicRemarks || 'Beautiful property in a desirable location.';
                    const propertyType = property.StandardFields?.PropertyType || 'For Sale'; // Default for badge

                    propertyCards += `
                        <div class="property-card">
                            <div class="property-image">
                                ${image ? `<img src="${escapeHTML(image)}" alt="Property Image">` : '<i class="fas fa-home"></i>'}
                                <div class="property-badge">${escapeHTML(propertyType === 'Land' ? 'Land For Sale' : 'For Sale')}</div>
                            </div>
                            <div class="property-details">
                                <div class="property-price">${formatPrice(price)}</div>
                                <div class="property-address">${escapeHTML(address)}</div>
                                <div class="property-features">
                                    <div class="feature">
                                        <i class="fas fa-bed"></i>
                                        <span>${escapeHTML(String(beds))} Beds</span>
                                    </div>
                                    <div class="feature">
                                        <i class="fas fa-bath"></i>
                                        <span>${escapeHTML(String(baths))} Baths</span>
                                    </div>
                                    ${sqft ? `
                                    <div class="feature">
                                        <i class="fas fa-ruler-combined"></i>
                                        <span>${formatNumber(sqft)} sq ft</span>
                                    </div>
                                    ` : ''}
                                </div>
                                <div class="property-description">
                                    ${description ? escapeHTML(description).substring(0, 150) + (description.length > 150 ? '...' : '') : ''}
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                grid.innerHTML = propertyCards;
                
            } catch (error) {
                console.error('Error displaying properties:', error);
                // Fallback to demo properties if there's an issue with the fetched data structure
                showDemoPropertiesWithExplanation(filters);
            }
        }

        // Show demo properties when API is unavailable or for demonstration
        function showDemoProperties(filters = {}, explanationBanner = '') {
            const grid = document.getElementById('properties-grid');
            
            // Demo properties specific to Grand Lake area
            const demoProperties = [
                {
                    price: 2850000,
                    address: "1247 Lakeside Drive, Afton, OK 74331",
                    beds: 5,
                    baths: 4,
                    sqft: 4200,
                    description: "Stunning lakefront estate on Grand Lake with private dock, panoramic water views, and luxury finishes throughout. Perfect for entertaining with open concept living and gourmet kitchen.",
                    type: "Residential",
                    image: 'https://source.unsplash.com/600x400/?luxury-lake-house'
                },
                {
                    price: 1950000,
                    address: "892 Water's Edge Court, Grove, OK 74344",
                    beds: 4,
                    baths: 3,
                    sqft: 3800,
                    description: "Contemporary luxury home with 150 feet of Grand Lake frontage. Features include infinity pool, wine cellar, and master suite with private balcony overlooking the lake.",
                    type: "Residential",
                    image: 'https://source.unsplash.com/600x400/?modern-lakefront-home'
                },
                {
                    price: 1250000,
                    address: "456 Sunset Bay Drive, Jay, OK 74346",
                    beds: 3,
                    baths: 3,
                    sqft: 2900,
                    description: "Charming lakeside retreat with private cove location. Beautifully renovated with high-end appliances, custom millwork, and expansive outdoor living spaces.",
                    type: "Residential",
                    image: 'https://source.unsplash.com/600x400/?lake-house-exterior'
                },
                {
                    price: 895000,
                    address: "789 Grand Lake Shores, Langley, OK 74350",
                    beds: 4,
                    baths: 2,
                    sqft: 2400,
                    description: "Classic lake home with timeless appeal. Features include stone fireplace, screened porch, and gentle slope to the water with boat dock and lift.",
                    type: "Residential",
                    image: 'https://source.unsplash.com/600x400/?rustic-lake-house'
                },
                {
                    price: 675000,
                    address: "321 Cove Point Lane, Disney, OK 74340",
                    beds: 3,
                    baths: 2,
                    sqft: 2100,
                    description: "Cozy lakefront cabin with modern updates. Perfect weekend getaway or full-time residence with beautiful sunrise views and peaceful setting.",
                    type: "Residential",
                    image: 'https://source.unsplash.com/600x400/?cabin-lakefront'
                },
                {
                    price: 1750000,
                    address: "654 Peninsula Drive, Ketchum, OK 74349",
                    beds: 5,
                    baths: 4,
                    sqft: 4000,
                    description: "Magnificent estate home on private peninsula with 360-degree water views. Features include guest house, multiple outdoor entertaining areas, and private beach.",
                    type: "Residential",
                    image: 'https://source.unsplash.com/600x400/?luxury-estate-waterfront'
                },
                {
                    price: 450000,
                    address: "123 Lakeview Condos, Grove, OK 74344",
                    beds: 2,
                    baths: 2,
                    sqft: 1400,
                    description: "Luxury lakefront condo with shared amenities including pool, marina, and clubhouse. Low maintenance living with high-end finishes and lake access.",
                    type: "Condo",
                    image: 'https://source.unsplash.com/600x400/?lakefront-condo'
                },
                {
                    price: 250000,
                    address: "Lot 15 Waterfront Estates, Afton, OK 74331",
                    beds: 0,
                    baths: 0,
                    sqft: null,
                    description: "Prime lakefront building lot with 100 feet of Grand Lake frontage. Gentle slope, mature trees, and utilities available. Perfect for your dream home.",
                    type: "Land",
                    image: 'https://source.unsplash.com/600x400/?lakefront-land'
                }
            ];
            
            // Filter demo properties based on search criteria
            let filteredProperties = demoProperties;
            
            if (filters.minPrice) {
                filteredProperties = filteredProperties.filter(p => p.price >= parseInt(filters.minPrice));
            }
            if (filters.maxPrice) {
                filteredProperties = filteredProperties.filter(p => p.price <= parseInt(filters.maxPrice));
            }
            if (filters.bedrooms) {
                filteredProperties = filteredProperties.filter(p => p.beds >= parseInt(filters.bedrooms));
            }
            if (filters.bathrooms) {
                filteredProperties = filteredProperties.filter(p => p.baths >= parseInt(filters.bathrooms));
            }
            if (filters.propertyType) {
                filteredProperties = filteredProperties.filter(p => 
                    p.type.toLowerCase() === filters.propertyType.toLowerCase()
                );
            }
            if (filters.city) {
                const city = filters.city.toLowerCase();
                filteredProperties = filteredProperties.filter(p => 
                    p.address.toLowerCase().includes(city)
                );
            }
            
            if (filteredProperties.length === 0) {
                grid.innerHTML = explanationBanner + `
                    <div class="error-state">
                        <i class="fas fa-search"></i>
                        <h3>No Properties Found</h3>
                        <p>No properties match your current search criteria. Try adjusting your filters.</p>
                        <button class="search-button" onclick="clearAndSearch()">Clear Filters</button>
                    </div>
                `;
                return;
            }
            
            let propertyCards = '';
            
            filteredProperties.forEach(property => {
                propertyCards += `
                    <div class="property-card">
                        <div class="property-image">
                            ${property.image ? `<img src="${escapeHTML(property.image)}" alt="Property Image">` : `<i class="fas fa-${property.type === 'Land' ? 'tree' : 'home'}"></i>`}
                            <div class="property-badge">${escapeHTML(property.type === 'Land' ? 'Land' : 'For Sale')}</div>
                        </div>
                        <div class="property-details">
                            <div class="property-price">${formatPrice(property.price)}</div>
                            <div class="property-address">${escapeHTML(property.address)}</div>
                            ${property.type !== 'Land' ? `
                            <div class="property-features">
                                <div class="feature">
                                    <i class="fas fa-bed"></i>
                                    <span>${escapeHTML(String(property.beds))} Beds</span>
                                </div>
                                <div class="feature">
                                    <i class="fas fa-bath"></i>
                                    <span>${escapeHTML(String(property.baths))} Baths</span>
                                </div>
                                ${property.sqft ? `
                                <div class="feature">
                                    <i class="fas fa-ruler-combined"></i>
                                    <span>${formatNumber(property.sqft)} sq ft</span>
                                </div>
                                ` : ''}
                            </div>
                            ` : `
                            <div class="property-features">
                                <div class="feature">
                                    <i class="fas fa-map"></i>
                                    <span>Buildable Lot</span>
                                </div>
                                <div class="feature">
                                    <i class="fas fa-water"></i>
                                    <span>Lakefront</span>
                                </div>
                            </div>
                            `}
                            <div class="property-description">
                                ${escapeHTML(property.description).substring(0, 150)}${property.description.length > 150 ? '...' : ''}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            grid.innerHTML = explanationBanner + propertyCards;
        }

        // Utility functions
        function formatPrice(price) {
            if (price === null || price === undefined) return 'Price on Request';
            
            const num = parseInt(price);
            if (isNaN(num)) return 'Price on Request'; // Handle non-numeric values
            
            if (num >= 1000000) {
                return `$${(num / 1000000).toLocaleString(undefined, { minimumFractionDigits: 1, maximumFractionDigits: 2 })}M`;
            } else if (num >= 1000) {
                return `$${(num / 1000).toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })}K`;
            }
            return `$${num.toLocaleString()}`;
        }

        function formatNumber(num) {
            if (!num) return 'N/A';
            return parseInt(num).toLocaleString();
        }

        function clearAndSearch() {
            document.getElementById('minPrice').value = ''; 
            document.getElementById('maxPrice').value = ''; 
            document.getElementById('bedrooms').value = ''; 
            document.getElementById('bathrooms').value = ''; 
            document.getElementById('propertyType').value = ''; 
            document.getElementById('city').value = ''; 
            searchProperties();
        }

        // Smooth scrolling for navigation links
        document.addEventListener('DOMContentLoaded', function() {
            const links = document.querySelectorAll('a[href^="#"]');
            
            links.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        const headerOffset = document.getElementById('mainHeader').offsetHeight;
                        const elementPosition = targetElement.getBoundingClientRect().top + window.scrollY;
                        const offsetPosition = elementPosition - headerOffset - 20; // Add some extra padding

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile menu if open
                        if (document.getElementById('mobileNav').classList.contains('active')) {
                            toggleMobileNav();
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
